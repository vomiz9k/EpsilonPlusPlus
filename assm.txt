CALL MAIN
MAIN:
PUSH 0
POP ax
PUSH 0.00
PUSH ax
PUSH 0
ADD
POP bx
POP [bx]
PUSH 0.00
PUSH ax
PUSH 1
ADD
POP bx
POP [bx]
PUSH 0.00
PUSH ax
PUSH 2
ADD
POP bx
POP [bx]
OUT "PUSH A: "
IN
PUSH ax
PUSH 0
ADD
POP bx
POP [bx]
OUT "PUSH B: "
IN
PUSH ax
PUSH 1
ADD
POP bx
POP [bx]
OUT "PUSH C: "
IN
PUSH ax
PUSH 2
ADD
POP bx
POP [bx]
PUSH ax
PUSH 2
ADD
POP bx
PUSH [bx]
PUSH ax
PUSH 1
ADD
POP bx
PUSH [bx]
PUSH ax
PUSH 0
ADD
POP bx
PUSH [bx]
CALL get_roots
EXIT
get_roots:
PUSH ax
PUSH 100
ADD
POP ax
PUSH ax
PUSH 0
ADD
POP bx
POP [bx]
PUSH ax
PUSH 1
ADD
POP bx
POP [bx]
PUSH ax
PUSH 2
ADD
POP bx
POP [bx]
PUSH ax
PUSH 0
ADD
POP bx
PUSH [bx]
PUSH 0.00
JE 0
PUSH ax
PUSH 1
ADD
POP bx
PUSH [bx]
PUSH ax
PUSH 1
ADD
POP bx
PUSH [bx]
PROD
PUSH 4.00
PUSH ax
PUSH 0
ADD
POP bx
PUSH [bx]
PUSH ax
PUSH 2
ADD
POP bx
PUSH [bx]
PROD
PROD
SUB
PUSH 0.00
JA 1
PUSH ax
PUSH 1
ADD
POP bx
PUSH [bx]
PUSH ax
PUSH 1
ADD
POP bx
PUSH [bx]
PROD
PUSH 4.00
PUSH ax
PUSH 0
ADD
POP bx
PUSH [bx]
PUSH ax
PUSH 2
ADD
POP bx
PUSH [bx]
PROD
PROD
SUB
PUSH 0.00
JE 2
OUT "NO ROOTS\n"
JMP ENDIF2
2:
OUT "1 ROOT: \n"
PUSH 0.00
PUSH ax
PUSH 1
ADD
POP bx
PUSH [bx]
PUSH 2.00
PUSH ax
PUSH 0
ADD
POP bx
PUSH [bx]
PROD
DIV
SUB
OUT
ENDIF2:
JMP ENDIF1
1:
PUSH ax
PUSH 1
ADD
POP bx
PUSH [bx]
PUSH ax
PUSH 1
ADD
POP bx
PUSH [bx]
PROD
PUSH 4.00
PUSH ax
PUSH 0
ADD
POP bx
PUSH [bx]
PUSH ax
PUSH 2
ADD
POP bx
PUSH [bx]
PROD
PROD
SUB
SQRT
PUSH ax
PUSH 3
ADD
POP bx
POP [bx]
PUSH ax
PUSH 3
ADD
POP bx
PUSH [bx]
PUSH ax
PUSH 1
ADD
POP bx
PUSH [bx]
SUB
PUSH 2.00
DIV
PUSH ax
PUSH 4
ADD
POP bx
POP [bx]
OUT "2 ROOTS:\n"
PUSH ax
PUSH 4
ADD
POP bx
PUSH [bx]
OUT
PUSH 0.00
PUSH ax
PUSH 1
ADD
POP bx
PUSH [bx]
SUB
PUSH ax
PUSH 3
ADD
POP bx
PUSH [bx]
SUB
PUSH 2.00
DIV
PUSH ax
PUSH 4
ADD
POP bx
POP [bx]
OUT " and "
PUSH ax
PUSH 4
ADD
POP bx
PUSH [bx]
OUT
ENDIF1:
JMP ENDIF0
0:
PUSH ax
PUSH 1
ADD
POP bx
PUSH [bx]
PUSH 0.00
JE 3
OUT "ONLY ROOT: "
PUSH 0.00
PUSH ax
PUSH 2
ADD
POP bx
PUSH [bx]
PUSH ax
PUSH 1
ADD
POP bx
PUSH [bx]
DIV
SUB
OUT
JMP ENDIF3
3:
PUSH ax
PUSH 2
ADD
POP bx
PUSH [bx]
PUSH 0.00
JE 4
OUT "NO ROOTS\n"
JMP ENDIF4
4:
OUT "INFINITY ROOTS\n"
ENDIF4:
ENDIF3:
ENDIF0:
RETURN
SQRT:
PUSH ax
PUSH 100
ADD
POP ax
PUSH ax
PUSH 4
ADD
POP bx
POP [bx]
PUSH 0.00
PUSH ax
PUSH 5
ADD
POP bx
POP [bx]
PUSH 1.00
PUSH ax
PUSH 6
ADD
POP bx
POP [bx]
WHILE5:
PUSH ax
PUSH 5
ADD
POP bx
PUSH [bx]
PUSH 100.00
JB 5
JMP ENDWHILE5
5:
PUSH ax
PUSH 6
ADD
POP bx
PUSH [bx]
PUSH ax
PUSH 4
ADD
POP bx
PUSH [bx]
PUSH ax
PUSH 6
ADD
POP bx
PUSH [bx]
DIV
ADD
PUSH 2.00
DIV
PUSH ax
PUSH 6
ADD
POP bx
POP [bx]
PUSH ax
PUSH 5
ADD
POP bx
PUSH [bx]
PUSH 1.00
ADD
PUSH ax
PUSH 5
ADD
POP bx
POP [bx]
JMP WHILE5
ENDWHILE5:
PUSH ax
PUSH 6
ADD
POP bx
PUSH [bx]
PUSH ax
PUSH 100
SUB
POP ax
RETURN
RETURN
